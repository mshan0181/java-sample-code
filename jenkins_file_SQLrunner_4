pipeline {
    agent { label 'master' }    
    stages {
         stage('Download') {
            steps {
                step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'userDefined', script: '',scriptContent: 'select * from v$version'])
                step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'userDefined', script: '',scriptContent: 'select name from v$database'])
                step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'file', script: 'tablespace_usage_listing.sql',scriptContent: ''])
                  }
                            } 
            stage('Email-attachement') {
                   steps {
                          def env_file = "%{WORKSPACE}%/tablespace_usage_logfile.log"
                           type ("INFO: envFileName = %{env_file}%")
                          }
                                   }
               }
        }
   
                         
        
