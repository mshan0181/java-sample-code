pipeline {
    agent { label 'master' }    
  stages {
          stage('SQL-script-runner') {
            steps {
                  checkout([$class: 'GitSCM', branches: [[name: master]], extensions: [[$class: 'CloneOption', timeout: 120]], 
                  userRemoteConfigs: [[credentialsId: "", url: 'https://github.com/mshan0181/SQL_files.git' ]] ]) 
                step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'userDefined', script: '',scriptContent: 'select * from v$version'])
                step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'userDefined', script: '',scriptContent: 'select name from v$database'])
                step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'file', script: 'tablespace_usage.sql',scriptContent: ''])
                     }
                  }
           }
   }
