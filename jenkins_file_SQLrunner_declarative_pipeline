pipeline {
    agent { label 'master' }    
stages  {
              stage('SQL-code-checkout') {
                 step(git url: 'https://github.com/mshan0181/SQL_files.git')
                    }
               stage('SQL-script-runner') {
                  steps {
                    step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'userDefined', script: '',scriptContent: 'select * from v$version'])
                    step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'userDefined', script: '',scriptContent: 'select name from v$database'])
                    step([$class: 'SQLPlusRunnerBuilder',credentialsId:'shandb-priv-id', instance:'client_access',scriptType:'file', script: 'tablespace_usage_listing.sql',scriptContent: ''])
                        }
                  }
         }
  }   
